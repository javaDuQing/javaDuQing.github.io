(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{456:function(e,t,a){"use strict";a.r(t);var i=a(2),n=Object(i.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("img",{attrs:{width:"550",height:"253",align:"bottom",src:"https://cdn.nlark.com/yuque/0/2022/jpeg/375413/1650186214985-98600e2f-ef2b-40a7-8d0e-dc15fcaafaa4.jpeg"}}),e._v(" "),t("h2",{attrs:{id:"单向散列加密"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单向散列加密"}},[e._v("#")]),e._v(" 单向散列加密")]),e._v(" "),t("p",[e._v("开发中有一种场景，就是只需要验证正确性而不需要知道它的原文，只需要知道这个值是否存在是否相等就可以了。比如前端登录将用户的密码加密给服务端并存储到数据库")]),e._v(" "),t("p",[e._v("单向散列函数特点")]),e._v(" "),t("ol",[t("li",[e._v("散列计算速度快，非常高效")]),e._v(" "),t("li",[e._v("明文不同，散列加密后的密文一定不同；明文相同，散列加密后密文一定相同")]),e._v(" "),t("li",[e._v("具备单向性，无法逆推计算")])]),e._v(" "),t("p",[e._v("单向散列函数也被称为哈希函数，摘要函数或者杂凑函数。其经典算法有 md5 | sha | sha1 | sha256 | sha512 | RSA-SHA等")]),e._v(" "),t("h2",{attrs:{id:"密钥加密方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#密钥加密方式"}},[e._v("#")]),e._v(" 密钥加密方式")]),e._v(" "),t("h3",{attrs:{id:"对称加密-共享密钥加密"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对称加密-共享密钥加密"}},[e._v("#")]),e._v(" 对称加密（共享密钥加密）")]),e._v(" "),t("p",[e._v("加密和解密同用一个密钥的方式")]),e._v(" "),t("img",{attrs:{width:"500",height:"313",align:"bottom",src:"https://cdn.nlark.com/yuque/0/2022/png/375413/1645434184880-67a34dba-0350-4c73-8b77-5d01ea8d1b28.png#clientId=u0a816234-b3fe-4&from=paste&height=363&id=u636b2199&name=image.png&originHeight=1022&originWidth=1388&originalType=binary&ratio=1&rotation=0&showTitle=false&size=627133&status=done&style=none&taskId=u52b08544-f7bd-4252-9eca-ace39fe4fbc&title=&width=493"}}),e._v(" "),t("p",[e._v("可能会有的问题：以共享密钥方式加密时必须将密钥也发给对方。可究竟怎样才能安全地转交？在互联网上转发密钥时，如果通信被监听那么密钥就可会落入攻击者之手，同时也就失去了加密的意义")]),e._v(" "),t("h3",{attrs:{id:"非对称加密-公开密钥加密"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#非对称加密-公开密钥加密"}},[e._v("#")]),e._v(" 非对称加密（公开密钥加密）")]),e._v(" "),t("p",[e._v("公开密钥加密方式很好地解决了共享密钥加密的困难")]),e._v(" "),t("p",[e._v("公开密钥加密使用一对非对称的密钥。一把叫做私有密钥（private key），另一把叫做公开密钥（public key）。顾名思义，私有密钥不能让其他任何人知道，而公开密钥则可以随意发布，任何人都可以获得")]),e._v(" "),t("p",[e._v("发送密文的一方使用对方的公开密钥进行加密处理，对方收到被加密的信息后，再使用自己的私有密钥进行解密。利用这种方式，不需要发送用来解密的私有密钥，也不必担心密钥被攻击者窃听而盗走")]),e._v(" "),t("h3",{attrs:{id:"混合加密"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#混合加密"}},[e._v("#")]),e._v(" 混合加密")]),e._v(" "),t("p",[e._v("HTTPS 采用共享密钥加密和公开密钥加密两者并用的混合加密机制，通过公开密钥加密的方式传递共享密钥，之后都使用共享密钥：")]),e._v(" "),t("img",{attrs:{width:"500",height:"513",align:"bottom",src:"https://cdn.nlark.com/yuque/0/2022/png/375413/1645435283079-e66347ef-9cbf-4211-9d16-c0ac9c612a29.png#clientId=u19fa5c22-98b4-4&from=paste&height=461&id=uc48d8749&name=image.png&originHeight=1188&originWidth=1366&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1095583&status=done&style=none&taskId=ua91b5885-e9a3-45b0-a01d-c06ee573d78&title=&width=530"}}),e._v(" "),t("h2",{attrs:{id:"数字证书"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数字证书"}},[e._v("#")]),e._v(" 数字证书")]),e._v(" "),t("ol",[t("li",[e._v("使用摘要证明内容没有被修改")]),e._v(" "),t("li",[e._v("使用 CA 的公钥解开证书，拿到内容的公钥")])]),e._v(" "),t("h3",{attrs:{id:"例子"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#例子"}},[e._v("#")]),e._v(" 例子")]),e._v(" "),t("ol",[t("li",[e._v("鲍勃有两把钥匙，一把是公钥，另一把是私钥。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018525495-b51f1107-2141-4737-8e8b-014d2900f177.png#averageHue=%23fdfafa&clientId=ub377f14f-6ec6-4&from=paste&height=149&id=ue0eb2896&name=image.png&originHeight=297&originWidth=532&originalType=binary&ratio=2&rotation=0&showTitle=false&size=29748&status=done&style=none&taskId=uaf3f0a28-cfff-49ed-a573-d38315975ca&title=&width=266",alt:"image.png"}})]),e._v(" "),t("li",[e._v("鲍勃把公钥送给他的朋友们----帕蒂、道格、苏珊----每人一把。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018538836-75c2e118-815e-4103-8217-601e13cf64d4.png#averageHue=%23e5e5e5&clientId=ub377f14f-6ec6-4&from=paste&height=131&id=uada6cf2b&name=image.png&originHeight=262&originWidth=589&originalType=binary&ratio=2&rotation=0&showTitle=false&size=44550&status=done&style=none&taskId=u8b426e3c-058c-43d3-948d-0d75a19446b&title=&width=294.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("苏珊要给鲍勃写一封保密的信。她写完后用鲍勃的公钥加密，就可以达到保密的效果。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018549133-9dc30c86-4187-4be7-b097-0dc2ef675d62.png#averageHue=%23f0f0f0&clientId=ub377f14f-6ec6-4&from=paste&height=123&id=uc95b28f0&name=image.png&originHeight=246&originWidth=595&originalType=binary&ratio=2&rotation=0&showTitle=false&size=31802&status=done&style=none&taskId=u71eb4206-6c65-4eb6-96db-be6fa0c1857&title=&width=297.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("鲍勃收信后，用私钥解密，就看到了信件内容。这里要强调的是，只要鲍勃的私钥不泄露，这封信就是安全的，即使落在别人手里，也无法解密。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018563979-3786a9e9-eb5f-4617-8af6-1786a96f6156.png#averageHue=%23f5f3f3&clientId=ub377f14f-6ec6-4&from=paste&height=126&id=u523642cd&name=image.png&originHeight=252&originWidth=594&originalType=binary&ratio=2&rotation=0&showTitle=false&size=33991&status=done&style=none&taskId=ud9682006-6b2b-4962-8823-92b7ab40b58&title=&width=297",alt:"image.png"}})]),e._v(" "),t("li",[e._v("鲍勃给苏珊回信，决定采用“数字签名”。他写完后先用Hash函数，生成信件的摘要（digest）。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018577052-eb1ee482-57fc-4984-81b8-7542c388d1b1.png#averageHue=%23fefefe&clientId=ub377f14f-6ec6-4&from=paste&height=138&id=udceea679&name=image.png&originHeight=276&originWidth=534&originalType=binary&ratio=2&rotation=0&showTitle=false&size=43636&status=done&style=none&taskId=u6eab5f27-f266-4773-8385-01ac375fd98&title=&width=267",alt:"image.png"}})]),e._v(" "),t("li",[e._v("然后，鲍勃使用私钥，对这个摘要加密，生成“"),t("strong",[e._v("数字签名")]),e._v("”（signature）。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018588294-f77212ea-4eba-47c6-b08a-a60c2dd47111.png#averageHue=%23f7f4f4&clientId=ub377f14f-6ec6-4&from=paste&height=113&id=u0bf5dfac&name=image.png&originHeight=225&originWidth=537&originalType=binary&ratio=2&rotation=0&showTitle=false&size=14853&status=done&style=none&taskId=u0709601f-d3dc-472c-a9ee-625a6f7d1b5&title=&width=268.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("鲍勃将这个签名，附在信件下面，一起发给苏珊。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018603908-ae1cf54c-5a46-4372-af7d-fbe46682bde0.png#averageHue=%23f8f8f8&clientId=ub377f14f-6ec6-4&from=paste&height=142&id=u6f40a732&name=image.png&originHeight=283&originWidth=545&originalType=binary&ratio=2&rotation=0&showTitle=false&size=43728&status=done&style=none&taskId=ubfb7975b-55ce-4a82-8891-cb5a13eb9b4&title=&width=272.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("苏珊收信后，取下数字签名，用鲍勃的公钥解密，得到信件的摘要。由此证明，这封信确实是鲍勃发出的。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018613911-5d0de5c8-4a0a-4e36-a882-b3f369186296.png#averageHue=%23f2f2f2&clientId=ub377f14f-6ec6-4&from=paste&height=77&id=u1e5e2b2f&name=image.png&originHeight=153&originWidth=530&originalType=binary&ratio=2&rotation=0&showTitle=false&size=13119&status=done&style=none&taskId=u47f8b543-44e3-48b7-a44e-f8996bd566a&title=&width=265",alt:"image.png"}})]),e._v(" "),t("li",[e._v("苏珊再对信件本身使用Hash函数，将得到的结果，与上一步得到的摘要进行对比。如果两者一致，就证明这封信未被修改过。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018626237-19ef5c1f-127a-4350-8f18-feb56a413c77.png#averageHue=%23f4f4f4&clientId=ub377f14f-6ec6-4&from=paste&height=136&id=u7aedd964&name=image.png&originHeight=271&originWidth=539&originalType=binary&ratio=2&rotation=0&showTitle=false&size=46884&status=done&style=none&taskId=u6bb3e874-cd22-4909-aa05-6df02e7d7a4&title=&width=269.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("复杂的情况出现了。道格想欺骗苏珊，他偷偷使用了苏珊的电脑，用自己的公钥换走了鲍勃的公钥。此时，苏珊实际拥有的是道格的公钥，但是还以为这是鲍勃的公钥。因此，道格就可以冒充鲍勃，用自己的私钥做成“数字签名”，写信给苏珊，让苏珊用假的鲍勃公钥进行解密。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018636173-742eab86-6c8d-4899-8d3e-eead810e97e3.png#averageHue=%23e9e9e9&clientId=ub377f14f-6ec6-4&from=paste&height=122&id=u49b841cf&name=image.png&originHeight=243&originWidth=524&originalType=binary&ratio=2&rotation=0&showTitle=false&size=31330&status=done&style=none&taskId=u8f7d7a8d-75c2-4333-b069-93d1ce5ff3b&title=&width=262",alt:"image.png"}})]),e._v(" "),t("li",[e._v("后来，苏珊感觉不对劲，发现自己无法确定公钥是否真的属于鲍勃。她想到了一个办法，要求鲍勃去找“证书中心”（certificate authority，简称CA），为公钥做认证。证书中心用自己的私钥，对鲍勃的公钥和一些相关信息一起加密，生成“"),t("strong",[e._v("数字证书")]),e._v("”（Digital Certificate）。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018645910-912c7b38-ac60-4c44-9b37-d8f8322e38f8.png#averageHue=%23eceaeb&clientId=ub377f14f-6ec6-4&from=paste&height=197&id=uba8f3d03&name=image.png&originHeight=394&originWidth=623&originalType=binary&ratio=2&rotation=0&showTitle=false&size=37145&status=done&style=none&taskId=u8cbcb2c1-90f6-4966-b7f8-754d09179d0&title=&width=311.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("鲍勃拿到数字证书以后，就可以放心了。以后再给苏珊写信，只要在签名的同时，再附上数字证书就行了。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018655745-65fc2f2f-2e73-4653-b836-6de3b1d1b49e.png#averageHue=%23e7f2e7&clientId=ub377f14f-6ec6-4&from=paste&height=185&id=u7594ab81&name=image.png&originHeight=369&originWidth=311&originalType=binary&ratio=2&rotation=0&showTitle=false&size=63345&status=done&style=none&taskId=uabe26f10-e559-4fc4-b065-923a11acc6a&title=&width=155.5",alt:"image.png"}})]),e._v(" "),t("li",[e._v("苏珊收信后，用CA的公钥解开数字证书，就可以拿到鲍勃真实的公钥了，然后就能证明“数字签名”是否真的是鲍勃签的。\n"),t("img",{attrs:{src:"https://cdn.nlark.com/yuque/0/2023/png/375413/1676018665759-4675d4f7-1d8f-469f-bff6-a69f7ac2530a.png#averageHue=%23fdfdfd&clientId=ub377f14f-6ec6-4&from=paste&height=158&id=ub5e8280e&name=image.png&originHeight=315&originWidth=521&originalType=binary&ratio=2&rotation=0&showTitle=false&size=29284&status=done&style=none&taskId=u22dd8327-032b-4dfb-99aa-9d8644533cf&title=&width=260.5",alt:"image.png"}})])]),e._v(" "),t("h3",{attrs:{id:"流程图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程图"}},[e._v("#")]),e._v(" 流程图")]),e._v(" "),t("img",{attrs:{width:"700",height:"613",align:"bottom",src:"https://cdn.nlark.com/yuque/0/2022/png/375413/1650186248882-f88038e8-5359-48f1-a4ad-083870312f15.png?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0"}}),e._v(" "),t("h2",{attrs:{id:"参考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),t("ol",[t("li",[e._v("《图解 HTTP》")])])])}),[],!1,null,null,null);t.default=n.exports}}]);