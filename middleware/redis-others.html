<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis 其他知识点 | 奇风 Java 工程师知识体系</title>
    <meta name="generator" content="VuePress 1.9.8">
    <link rel="icon" href="https://cdn.nlark.com/yuque/0/2023/png/375413/1675405507715-d39c0d59-ff2f-48e2-916e-70c5c8a2e62d.png">
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/assets/css/0.styles.112c01f0.css" as="style"><link rel="preload" href="/assets/js/app.ebc22a7e.js" as="script"><link rel="preload" href="/assets/js/3.055d3e19.js" as="script"><link rel="preload" href="/assets/js/1.e976497e.js" as="script"><link rel="preload" href="/assets/js/82.b384ccf9.js" as="script"><link rel="prefetch" href="/assets/js/10.130f488d.js"><link rel="prefetch" href="/assets/js/11.b3cf3d1c.js"><link rel="prefetch" href="/assets/js/12.82d05f80.js"><link rel="prefetch" href="/assets/js/13.711ee55a.js"><link rel="prefetch" href="/assets/js/14.e78a33da.js"><link rel="prefetch" href="/assets/js/15.9711c905.js"><link rel="prefetch" href="/assets/js/16.bc820f0d.js"><link rel="prefetch" href="/assets/js/17.a72ef59e.js"><link rel="prefetch" href="/assets/js/18.15b69bd7.js"><link rel="prefetch" href="/assets/js/19.656e8c8b.js"><link rel="prefetch" href="/assets/js/20.6acf7c10.js"><link rel="prefetch" href="/assets/js/21.28ecd056.js"><link rel="prefetch" href="/assets/js/22.f51f09ce.js"><link rel="prefetch" href="/assets/js/23.16196448.js"><link rel="prefetch" href="/assets/js/24.774e0b81.js"><link rel="prefetch" href="/assets/js/25.4f0c3574.js"><link rel="prefetch" href="/assets/js/26.476ac42e.js"><link rel="prefetch" href="/assets/js/27.adb08033.js"><link rel="prefetch" href="/assets/js/28.c66df867.js"><link rel="prefetch" href="/assets/js/29.6f707d72.js"><link rel="prefetch" href="/assets/js/30.9eb4194f.js"><link rel="prefetch" href="/assets/js/31.b1740634.js"><link rel="prefetch" href="/assets/js/32.4e86cbf4.js"><link rel="prefetch" href="/assets/js/33.4d485781.js"><link rel="prefetch" href="/assets/js/34.91d03838.js"><link rel="prefetch" href="/assets/js/35.55e2ad26.js"><link rel="prefetch" href="/assets/js/36.1bede787.js"><link rel="prefetch" href="/assets/js/37.d0f9ca3d.js"><link rel="prefetch" href="/assets/js/38.f445eba6.js"><link rel="prefetch" href="/assets/js/39.07a0da36.js"><link rel="prefetch" href="/assets/js/4.af96fb9f.js"><link rel="prefetch" href="/assets/js/40.2b632790.js"><link rel="prefetch" href="/assets/js/41.3fea5474.js"><link rel="prefetch" href="/assets/js/42.d2289409.js"><link rel="prefetch" href="/assets/js/43.f6bfd24e.js"><link rel="prefetch" href="/assets/js/44.7e258a27.js"><link rel="prefetch" href="/assets/js/45.85116dbe.js"><link rel="prefetch" href="/assets/js/46.5e88dd0c.js"><link rel="prefetch" href="/assets/js/47.d7edbd52.js"><link rel="prefetch" href="/assets/js/48.3549aa87.js"><link rel="prefetch" href="/assets/js/49.42e66eaf.js"><link rel="prefetch" href="/assets/js/5.2cb7b5e8.js"><link rel="prefetch" href="/assets/js/50.48a54609.js"><link rel="prefetch" href="/assets/js/51.828abcb3.js"><link rel="prefetch" href="/assets/js/52.69dc5033.js"><link rel="prefetch" href="/assets/js/53.903b3787.js"><link rel="prefetch" href="/assets/js/54.e0469f30.js"><link rel="prefetch" href="/assets/js/55.f7d098ec.js"><link rel="prefetch" href="/assets/js/56.7b725893.js"><link rel="prefetch" href="/assets/js/57.6003dc74.js"><link rel="prefetch" href="/assets/js/58.cb383c55.js"><link rel="prefetch" href="/assets/js/59.9847b5f8.js"><link rel="prefetch" href="/assets/js/6.2eb56668.js"><link rel="prefetch" href="/assets/js/60.4f4ce018.js"><link rel="prefetch" href="/assets/js/61.4b082158.js"><link rel="prefetch" href="/assets/js/62.1414ca04.js"><link rel="prefetch" href="/assets/js/63.0e9159a8.js"><link rel="prefetch" href="/assets/js/64.ba992a44.js"><link rel="prefetch" href="/assets/js/65.34c94177.js"><link rel="prefetch" href="/assets/js/66.edf3335f.js"><link rel="prefetch" href="/assets/js/67.d4754d7b.js"><link rel="prefetch" href="/assets/js/68.95636628.js"><link rel="prefetch" href="/assets/js/69.823672ef.js"><link rel="prefetch" href="/assets/js/7.c5c6188d.js"><link rel="prefetch" href="/assets/js/70.ba125afe.js"><link rel="prefetch" href="/assets/js/71.336ce76e.js"><link rel="prefetch" href="/assets/js/72.d9f726a7.js"><link rel="prefetch" href="/assets/js/73.055cee2e.js"><link rel="prefetch" href="/assets/js/74.86194036.js"><link rel="prefetch" href="/assets/js/75.e1e486a0.js"><link rel="prefetch" href="/assets/js/76.e7630e5d.js"><link rel="prefetch" href="/assets/js/77.cf2209a2.js"><link rel="prefetch" href="/assets/js/78.e3b29d5f.js"><link rel="prefetch" href="/assets/js/79.51f43ebc.js"><link rel="prefetch" href="/assets/js/8.c08cf1ce.js"><link rel="prefetch" href="/assets/js/80.1a1dcc9a.js"><link rel="prefetch" href="/assets/js/81.f2c6009b.js"><link rel="prefetch" href="/assets/js/83.6c097929.js"><link rel="prefetch" href="/assets/js/84.ba5c9d85.js"><link rel="prefetch" href="/assets/js/9.2f614fd5.js">
    <link rel="stylesheet" href="/assets/css/0.styles.112c01f0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>奇风 Java 工程师知识体系</h3> <p class="description" data-v-59e6cb88></p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>奇风</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.nlark.com/yuque/0/2023/png/375413/1675405507715-d39c0d59-ff2f-48e2-916e-70c5c8a2e62d.png" alt="奇风 Java 工程师知识体系" class="logo"> <span class="site-name">奇风 Java 工程师知识体系</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      面试
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>常见面试题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/java-base.html" class="nav-link"><i class="undefined"></i>
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/interview/multi-thread.html" class="nav-link"><i class="undefined"></i>
  多线程
</a></li><li class="dropdown-subitem"><a href="/interview/mysql.html" class="nav-link"><i class="undefined"></i>
  MySql
</a></li><li class="dropdown-subitem"><a href="/interview/jvm.html" class="nav-link"><i class="undefined"></i>
  JVM
</a></li><li class="dropdown-subitem"><a href="/interview/SSM.html" class="nav-link"><i class="undefined"></i>
  企业级框架
</a></li><li class="dropdown-subitem"><a href="/interview/zk.html" class="nav-link"><i class="undefined"></i>
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/interview/dubbo-netty.html" class="nav-link"><i class="undefined"></i>
  Dubbo 和 netty
</a></li><li class="dropdown-subitem"><a href="/interview/redis.html" class="nav-link"><i class="undefined"></i>
  Redis
</a></li><li class="dropdown-subitem"><a href="/interview/RocketMQ.html" class="nav-link"><i class="undefined"></i>
  RocketMQ
</a></li><li class="dropdown-subitem"><a href="/interview/hr.html" class="nav-link"><i class="undefined"></i>
  非技术问题
</a></li><li class="dropdown-subitem"><a href="/interview/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-subitem"><a href="/interview/http tcp.html" class="nav-link"><i class="undefined"></i>
  Http 和 TCP/IP
</a></li><li class="dropdown-subitem"><a href="/interview/distributed.html" class="nav-link"><i class="undefined"></i>
  分布式相关
</a></li><li class="dropdown-subitem"><a href="/interview/project.html" class="nav-link"><i class="undefined"></i>
  项目相关
</a></li><li class="dropdown-subitem"><a href="/interview/es.html" class="nav-link"><i class="undefined"></i>
  Elasticsearch
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  计算机基础
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  Java 基础
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  数据库
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      框架与中间件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>企业级框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/distributed-base.html" class="nav-link"><i class="undefined"></i>
  Spring
</a></li><li class="dropdown-subitem"><a href="/distributed/consistence-classification.html" class="nav-link"><i class="undefined"></i>
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/distributed/Consensus-alg.html" class="nav-link"><i class="undefined"></i>
  Spring MVC
</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/redis-map.html" class="nav-link"><i class="undefined"></i>
  Redis
</a></li><li class="dropdown-subitem"><a href="/distributed/paxos-alg.html" class="nav-link"><i class="undefined"></i>
  RocketMQ
</a></li><li class="dropdown-subitem"><a href="/distributed/Multi-Paxos.html" class="nav-link"><i class="undefined"></i>
  Dubbo
</a></li><li class="dropdown-subitem"><a href="/distributed/Gossip.html" class="nav-link"><i class="undefined"></i>
  Netty
</a></li><li class="dropdown-subitem"><a href="/distributed/Raft.html" class="nav-link"><i class="undefined"></i>
  Kafka
</a></li><li class="dropdown-subitem"><a href="/distributed/Zab.html" class="nav-link"><i class="undefined"></i>
  Zookeeper
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-beian"></i>
      架构
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>架构基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/frameworkbase/base/framework-all.html" class="nav-link"><i class="undefined"></i>
  基础知识
</a></li><li class="dropdown-subitem"><a href="/framework/frameworkbase/expand/visual-angle.html" class="nav-link"><i class="undefined"></i>
  拓展知识
</a></li></ul></li><li class="dropdown-item"><h4>单机高性能架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/zero-copy.html" class="nav-link"><i class="undefined"></i>
  ❤ 零拷贝技术
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/linux-5-io.html" class="nav-link"><i class="undefined"></i>
  Linux 5 种 IO 模型
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/Reactor-Proactor.html" class="nav-link"><i class="undefined"></i>
  Reactor 与 Proactor
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/network opt.html" class="nav-link"><i class="undefined"></i>
  网络方面的优化
</a></li></ul></li><li class="dropdown-item"><h4>高性能架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highperformance/high/index-high.html" class="nav-link"><i class="undefined"></i>
  指标 - 吞吐量、延迟、TP99
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/high/how2design.html" class="nav-link"><i class="undefined"></i>
  设计高性能系统
</a></li></ul></li><li class="dropdown-item"><h4>高可用架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highavailable/5-9.html" class="nav-link"><i class="undefined"></i>
  指标 - 几个9、影响请求占比
</a></li><li class="dropdown-subitem"><a href="/framework/high/highavailable/monitor.html" class="nav-link"><i class="undefined"></i>
  设计高可用系统 - 监控
</a></li><li class="dropdown-subitem"><a href="/framework/high/highavailable/conception.html" class="nav-link"><i class="undefined"></i>
  设计高可用系统 - 方案
</a></li></ul></li><li class="dropdown-item"><h4>可扩展架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highextend/base.html" class="nav-link"><i class="undefined"></i>
  可扩展架构的基本思想和模式
</a></li><li class="dropdown-subitem"><a href="/framework/high/highextend/layered-framework.html" class="nav-link"><i class="undefined"></i>
  可扩展架构 — SOA、微内核架构、微服务
</a></li></ul></li><li class="dropdown-item"><h4>高安全架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highsafe/encryption-tech.html" class="nav-link"><i class="undefined"></i>
  ❤ 信息加密技术
</a></li><li class="dropdown-subitem"><a href="/framework/high/highsafe/attack-mode.html" class="nav-link"><i class="undefined"></i>
  常见的攻击方式与防火墙
</a></li></ul></li><li class="dropdown-item"><h4>推荐书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/book/start-from-0-framework.html" class="nav-link"><i class="undefined"></i>
  《从 0 开始学架构》
</a></li><li class="dropdown-subitem"><a href="/framework/book/big-website.html" class="nav-link"><i class="undefined"></i>
  《大型网站技术架构：核心原理与案例分析》
</a></li><li class="dropdown-subitem"><a href="/framework/book/DDIA.html" class="nav-link"><i class="undefined"></i>
  《DDIA（数据密集型应用系统设计）》
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      分布式
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>分布式基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/distributed-base.html" class="nav-link"><i class="undefined"></i>
  cap 与 base 理论
</a></li><li class="dropdown-subitem"><a href="/distributed/consistence-classification.html" class="nav-link"><i class="undefined"></i>
  一致性的分类
</a></li><li class="dropdown-subitem"><a href="/distributed/Consensus-alg.html" class="nav-link"><i class="undefined"></i>
  共识算法
</a></li></ul></li><li class="dropdown-item"><h4>共识算法（一致性算法）</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/2-stage-commit.html" class="nav-link"><i class="undefined"></i>
  2(3)阶段提交算法
</a></li><li class="dropdown-subitem"><a href="/distributed/paxos-alg.html" class="nav-link"><i class="undefined"></i>
  Paxos 算法
</a></li><li class="dropdown-subitem"><a href="/distributed/Multi-Paxos.html" class="nav-link"><i class="undefined"></i>
  Multi Paxos 算法
</a></li><li class="dropdown-subitem"><a href="/distributed/Gossip.html" class="nav-link"><i class="undefined"></i>
  Gossip 协议
</a></li><li class="dropdown-subitem"><a href="/distributed/Raft.html" class="nav-link"><i class="undefined"></i>
  Raft 算法
</a></li><li class="dropdown-subitem"><a href="/distributed/Zab.html" class="nav-link"><i class="undefined"></i>
  Zab 算法
</a></li></ul></li><li class="dropdown-item"><h4>分布式解决方案</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  分布式锁
</a></li><li class="dropdown-subitem"><a href="/distributed/Distributed-transaction.html" class="nav-link"><i class="undefined"></i>
  分布式事务
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-transaction-demo.html" class="nav-link"><i class="undefined"></i>
  分布式事务实现 —— Seata
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-cache.html" class="nav-link"><i class="undefined"></i>
  分布式缓存一致性
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-id.html" class="nav-link"><i class="undefined"></i>
  全局唯一 ID
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-session.html" class="nav-link"><i class="undefined"></i>
  分布式 session
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-mideng.html" class="nav-link"><i class="undefined"></i>
  幂等实现方案
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-select.html" class="nav-link"><i class="undefined"></i>
  高性能负载均衡及算法
</a></li><li class="dropdown-subitem"><a href="/middleware/redis-others.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  缓存穿透 击穿 雪崩
</a></li><li class="dropdown-subitem"><a href="/distributed/multi-database.html" class="nav-link"><i class="undefined"></i>
  分库分表方案
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  项目剖析
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  算法
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  管理
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      关于本站
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  关于作者
</a></li><li class="dropdown-item"><!----> <a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  错误反馈
</a></li><li class="dropdown-item"><!----> <a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  最新更新
</a></li><li class="dropdown-item"><h4>作者博文</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/about-independent-develop.html" class="nav-link"><i class="undefined"></i>
  关于独立开发的失败尝试
</a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <h3 class="name" data-v-1fad0c41>
    奇风
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>74</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      面试
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>常见面试题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/interview/java-base.html" class="nav-link"><i class="undefined"></i>
  Java 基础
</a></li><li class="dropdown-subitem"><a href="/interview/multi-thread.html" class="nav-link"><i class="undefined"></i>
  多线程
</a></li><li class="dropdown-subitem"><a href="/interview/mysql.html" class="nav-link"><i class="undefined"></i>
  MySql
</a></li><li class="dropdown-subitem"><a href="/interview/jvm.html" class="nav-link"><i class="undefined"></i>
  JVM
</a></li><li class="dropdown-subitem"><a href="/interview/SSM.html" class="nav-link"><i class="undefined"></i>
  企业级框架
</a></li><li class="dropdown-subitem"><a href="/interview/zk.html" class="nav-link"><i class="undefined"></i>
  Zookeeper
</a></li><li class="dropdown-subitem"><a href="/interview/dubbo-netty.html" class="nav-link"><i class="undefined"></i>
  Dubbo 和 netty
</a></li><li class="dropdown-subitem"><a href="/interview/redis.html" class="nav-link"><i class="undefined"></i>
  Redis
</a></li><li class="dropdown-subitem"><a href="/interview/RocketMQ.html" class="nav-link"><i class="undefined"></i>
  RocketMQ
</a></li><li class="dropdown-subitem"><a href="/interview/hr.html" class="nav-link"><i class="undefined"></i>
  非技术问题
</a></li><li class="dropdown-subitem"><a href="/interview/Linux.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-subitem"><a href="/interview/http tcp.html" class="nav-link"><i class="undefined"></i>
  Http 和 TCP/IP
</a></li><li class="dropdown-subitem"><a href="/interview/distributed.html" class="nav-link"><i class="undefined"></i>
  分布式相关
</a></li><li class="dropdown-subitem"><a href="/interview/project.html" class="nav-link"><i class="undefined"></i>
  项目相关
</a></li><li class="dropdown-subitem"><a href="/interview/es.html" class="nav-link"><i class="undefined"></i>
  Elasticsearch
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  计算机基础
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  Java 基础
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  数据库
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      框架与中间件
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>企业级框架</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/distributed-base.html" class="nav-link"><i class="undefined"></i>
  Spring
</a></li><li class="dropdown-subitem"><a href="/distributed/consistence-classification.html" class="nav-link"><i class="undefined"></i>
  Mybatis
</a></li><li class="dropdown-subitem"><a href="/distributed/Consensus-alg.html" class="nav-link"><i class="undefined"></i>
  Spring MVC
</a></li></ul></li><li class="dropdown-item"><h4>中间件</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/middleware/redis-map.html" class="nav-link"><i class="undefined"></i>
  Redis
</a></li><li class="dropdown-subitem"><a href="/distributed/paxos-alg.html" class="nav-link"><i class="undefined"></i>
  RocketMQ
</a></li><li class="dropdown-subitem"><a href="/distributed/Multi-Paxos.html" class="nav-link"><i class="undefined"></i>
  Dubbo
</a></li><li class="dropdown-subitem"><a href="/distributed/Gossip.html" class="nav-link"><i class="undefined"></i>
  Netty
</a></li><li class="dropdown-subitem"><a href="/distributed/Raft.html" class="nav-link"><i class="undefined"></i>
  Kafka
</a></li><li class="dropdown-subitem"><a href="/distributed/Zab.html" class="nav-link"><i class="undefined"></i>
  Zookeeper
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-beian"></i>
      架构
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>架构基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/frameworkbase/base/framework-all.html" class="nav-link"><i class="undefined"></i>
  基础知识
</a></li><li class="dropdown-subitem"><a href="/framework/frameworkbase/expand/visual-angle.html" class="nav-link"><i class="undefined"></i>
  拓展知识
</a></li></ul></li><li class="dropdown-item"><h4>单机高性能架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/zero-copy.html" class="nav-link"><i class="undefined"></i>
  ❤ 零拷贝技术
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/linux-5-io.html" class="nav-link"><i class="undefined"></i>
  Linux 5 种 IO 模型
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/Reactor-Proactor.html" class="nav-link"><i class="undefined"></i>
  Reactor 与 Proactor
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/onemachine/network opt.html" class="nav-link"><i class="undefined"></i>
  网络方面的优化
</a></li></ul></li><li class="dropdown-item"><h4>高性能架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highperformance/high/index-high.html" class="nav-link"><i class="undefined"></i>
  指标 - 吞吐量、延迟、TP99
</a></li><li class="dropdown-subitem"><a href="/framework/high/highperformance/high/how2design.html" class="nav-link"><i class="undefined"></i>
  设计高性能系统
</a></li></ul></li><li class="dropdown-item"><h4>高可用架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highavailable/5-9.html" class="nav-link"><i class="undefined"></i>
  指标 - 几个9、影响请求占比
</a></li><li class="dropdown-subitem"><a href="/framework/high/highavailable/monitor.html" class="nav-link"><i class="undefined"></i>
  设计高可用系统 - 监控
</a></li><li class="dropdown-subitem"><a href="/framework/high/highavailable/conception.html" class="nav-link"><i class="undefined"></i>
  设计高可用系统 - 方案
</a></li></ul></li><li class="dropdown-item"><h4>可扩展架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highextend/base.html" class="nav-link"><i class="undefined"></i>
  可扩展架构的基本思想和模式
</a></li><li class="dropdown-subitem"><a href="/framework/high/highextend/layered-framework.html" class="nav-link"><i class="undefined"></i>
  可扩展架构 — SOA、微内核架构、微服务
</a></li></ul></li><li class="dropdown-item"><h4>高安全架构设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/high/highsafe/encryption-tech.html" class="nav-link"><i class="undefined"></i>
  ❤ 信息加密技术
</a></li><li class="dropdown-subitem"><a href="/framework/high/highsafe/attack-mode.html" class="nav-link"><i class="undefined"></i>
  常见的攻击方式与防火墙
</a></li></ul></li><li class="dropdown-item"><h4>推荐书籍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/framework/book/start-from-0-framework.html" class="nav-link"><i class="undefined"></i>
  《从 0 开始学架构》
</a></li><li class="dropdown-subitem"><a href="/framework/book/big-website.html" class="nav-link"><i class="undefined"></i>
  《大型网站技术架构：核心原理与案例分析》
</a></li><li class="dropdown-subitem"><a href="/framework/book/DDIA.html" class="nav-link"><i class="undefined"></i>
  《DDIA（数据密集型应用系统设计）》
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      分布式
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>分布式基础</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/distributed-base.html" class="nav-link"><i class="undefined"></i>
  cap 与 base 理论
</a></li><li class="dropdown-subitem"><a href="/distributed/consistence-classification.html" class="nav-link"><i class="undefined"></i>
  一致性的分类
</a></li><li class="dropdown-subitem"><a href="/distributed/Consensus-alg.html" class="nav-link"><i class="undefined"></i>
  共识算法
</a></li></ul></li><li class="dropdown-item"><h4>共识算法（一致性算法）</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/2-stage-commit.html" class="nav-link"><i class="undefined"></i>
  2(3)阶段提交算法
</a></li><li class="dropdown-subitem"><a href="/distributed/paxos-alg.html" class="nav-link"><i class="undefined"></i>
  Paxos 算法
</a></li><li class="dropdown-subitem"><a href="/distributed/Multi-Paxos.html" class="nav-link"><i class="undefined"></i>
  Multi Paxos 算法
</a></li><li class="dropdown-subitem"><a href="/distributed/Gossip.html" class="nav-link"><i class="undefined"></i>
  Gossip 协议
</a></li><li class="dropdown-subitem"><a href="/distributed/Raft.html" class="nav-link"><i class="undefined"></i>
  Raft 算法
</a></li><li class="dropdown-subitem"><a href="/distributed/Zab.html" class="nav-link"><i class="undefined"></i>
  Zab 算法
</a></li></ul></li><li class="dropdown-item"><h4>分布式解决方案</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  分布式锁
</a></li><li class="dropdown-subitem"><a href="/distributed/Distributed-transaction.html" class="nav-link"><i class="undefined"></i>
  分布式事务
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-transaction-demo.html" class="nav-link"><i class="undefined"></i>
  分布式事务实现 —— Seata
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-cache.html" class="nav-link"><i class="undefined"></i>
  分布式缓存一致性
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-id.html" class="nav-link"><i class="undefined"></i>
  全局唯一 ID
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-session.html" class="nav-link"><i class="undefined"></i>
  分布式 session
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-mideng.html" class="nav-link"><i class="undefined"></i>
  幂等实现方案
</a></li><li class="dropdown-subitem"><a href="/distributed/distributed-select.html" class="nav-link"><i class="undefined"></i>
  高性能负载均衡及算法
</a></li><li class="dropdown-subitem"><a href="/middleware/redis-others.html" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  缓存穿透 击穿 雪崩
</a></li><li class="dropdown-subitem"><a href="/distributed/multi-database.html" class="nav-link"><i class="undefined"></i>
  分库分表方案
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  项目剖析
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  算法
</a></div><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  管理
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      关于本站
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  关于作者
</a></li><li class="dropdown-item"><!----> <a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  错误反馈
</a></li><li class="dropdown-item"><!----> <a href="/distributed/Distributed-lock.html" class="nav-link"><i class="undefined"></i>
  最新更新
</a></li><li class="dropdown-item"><h4>作者博文</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/about-independent-develop.html" class="nav-link"><i class="undefined"></i>
  关于独立开发的失败尝试
</a></li></ul></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>企业级架构</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Spring</a></li><li><a href="/" aria-current="page" class="sidebar-link">Spring MVC</a></li><li><a href="/" aria-current="page" class="sidebar-link">Mybatis</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>中间件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/middleware/redis-map.html" class="sidebar-link">Redis 知识地图</a></li><li><a href="/middleware/redis.html" class="sidebar-link">Redis 入门</a></li><li><a href="/middleware/redis-cluster.html" class="sidebar-link">Redis 集群</a></li><li><a href="/middleware/redis-principle.html" class="sidebar-link">Redis 底层数据结构原理</a></li><li><a href="/middleware/redis-others.html" aria-current="page" class="active sidebar-link">Redis 其他知识点</a></li><li><a href="/" aria-current="page" class="sidebar-link">Zookeeper</a></li><li><a href="/" aria-current="page" class="sidebar-link">RocketMQ</a></li><li><a href="/" aria-current="page" class="sidebar-link">Dubbo</a></li><li><a href="/" aria-current="page" class="sidebar-link">Netty</a></li><li><a href="/" aria-current="page" class="sidebar-link">Kafka</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Redis 其他知识点</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>奇风</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Redis 其他知识点</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>奇风</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/2/22</span></i> <i class="iconfont reco-eye" data-v-8a445198><span id="/middleware/redis-others.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-8a445198><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="redis-分页"><a href="#redis-分页" class="header-anchor">#</a> redis 分页</h2> <ol><li><em>第一种方案：从redis拿出所有数据后，再做内存分页（不推荐），热点数据小的时候可以这样做，性能相差不是很大，但是当数据量大的时候，分页期间就会占用大量内存，或撑爆</em></li> <li><em>第二种方案：基于redis的数据结构做缓存分页，这里又分2种（1.有序的；2:可以通过范围查找）</em> <ol><li><em>基于redis的list数据结构，直接通过list的数据结构，用range方法可以进行分页，在数据量大的时候，性能也很可观，但是当存在接口高并发访问时，这个list可能会无限延长，且里面的数据会存在很多重复</em></li> <li><em><strong>用hash和Zset来一起实现</strong>；Zset中存储有序的id字段，通过分页后拿到id，然后再用id去hash中取；zset里的value能存储的数据有限，比如主键id和时间戳或者uid和分数这样，但是列表数据,还要展示用户的头像,昵称等信息，这些信息 要么去mysql做in查询，但是一般对象数据会在hash里缓存一份</em></li> <li><em>基于redis的ZSet数据结构，通过Zset这个有序集合我们也可以做分页，同样也是用range方法</em></li></ol></li></ol> <h2 id="哨兵模式的脑裂问题"><a href="#哨兵模式的脑裂问题" class="header-anchor">#</a> 哨兵模式的脑裂问题</h2> <ol><li><em><strong>脑裂分成两种</strong>：</em> <ol><li><em>master假死导致的，master假死后，又选出了一个master，然后假死的master复活导致脑裂</em></li> <li><em>网络分区导致的，这种一般通过过半机制解决</em></li></ol></li> <li><em><strong>解决方案</strong>：</em> <ol><li><em>redis</em> <ol><li><em>第一种问题：min-slaves-max-lag：T，master与slave进行数据同步，slave的ack最大时间如果超过T，则master不接收客户端的请求</em>（这里写的不对，应该是和zookeeper一样的方法）</li> <li><em>第二种问题：min-slaves-to-write：N，定义最少的从库数量</em></li> <li><em>一般这两个配置是一起使用的，表示主库连接的从库中至少有 N 个从库，和主库进行数据复制时的 ACK 消息延迟不能超过 T 秒，否则，主库就不会再接收客户端的请求了</em></li></ol></li> <li><em>zookeeper</em> <ol><li><em>第一种问题：假设某个leader假死，其余的followers选举出了一个新的leader。这时，旧的leader复活并且仍然认为自己是leader，这个时候它向其他followers发出写请求也是会被拒绝的。因为每当新leader产生时，会生成一个epoch标号(标识当前属于那个leader的统治时期)，这个epoch是递增的，followers如果确认了新的leader存在，知道其epoch，就会拒绝epoch小于现任leader epoch的所有请求</em></li> <li><em>第二个问题：过半机制</em></li></ol></li></ol></li></ol> <h2 id="渐进式-rehash"><a href="#渐进式-rehash" class="header-anchor">#</a> 渐进式 rehash</h2> <h3 id="定义"><a href="#定义" class="header-anchor">#</a> 定义</h3> <p><em>扩展或收缩哈希表需要将 ht[0] 里面的所有键值对 rehash 到 ht[1] 里面， 但是， 这个 rehash 动作并不是一次性、集中式地完成的， 而是分多次、渐进式地完成的。</em></p> <p><em>这样做的原因在于， 如果 ht[0] 里只保存着四个键值对， 那么服务器可以在瞬间就将这些键值对全部 rehash 到 ht[1] ； 但是， 如果哈希表里保存的键值对数量不是四个， 而是四百万、四千万甚至四亿个键值对， 那么要一次性将这些键值对全部 rehash 到 ht[1] 的话， 庞大的计算量可能会导致服务器在一段时间内停止服务。</em></p> <p>因此， 为了避免 rehash 对服务器性能造成影响， 服务器不是一次性将 ht[0] 里面的所有键值对全部 rehash 到 ht[1] ， 而是分多次、渐进式地将 ht[0] 里面的键值对慢慢地 rehash 到 ht[1]</p> <h3 id="过程"><a href="#过程" class="header-anchor">#</a> 过程</h3> <p><em>以下是哈希表渐进式 rehash 的详细步骤：</em></p> <ol><li><em>为 ht[1] 分配空间， 让字典同时持有 ht[0] 和 ht[1] 两个哈希表</em></li> <li><em>在字典中维持一个索引计数器变量 rehashidx ， 并将它的值设置为 0 ， 表示 rehash 工作正式开始</em></li> <li><em>在 rehash 进行期间， 每次对字典执行添加、删除、查找或者更新操作时， 程序除了执行指定的操作以外， 还会顺带将 ht[0] 哈希表在 rehashidx 索引上的所有键值对 rehash 到 ht[1] ， 当 rehash 工作完成之后， 程序将 rehashidx 属性的值增一</em></li> <li><em>随着字典操作的不断执行， 最终在某个时间点上， ht[0] 的所有键值对都会被 rehash 至 ht[1] ， 这时程序将 rehashidx 属性的值设为 -1 ， 表示 rehash 操作已完成</em></li></ol> <p><em>渐进式 rehash 的好处在于它采取分而治之的方式， 将 rehash 键值对所需的计算工作均滩到对字典的每个添加、删除、查找和更新操作上， 从而避免了集中式 rehash 而带来的庞大计算量</em></p> <h3 id="具体过程"><a href="#具体过程" class="header-anchor">#</a> 具体过程</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624599539690-48ce368d-0a47-4b70-8e5e-26dc8e3fe2cd.png#clientId=uc72daa3e-5b15-4&amp;from=drop&amp;height=505&amp;id=u3d3a6cd8&amp;name=a%20%282%29.png&amp;originHeight=673&amp;originWidth=715&amp;originalType=binary&amp;ratio=1&amp;size=111158&amp;status=done&amp;style=none&amp;taskId=u58596c25-f04d-4942-bece-28f34a213e9&amp;width=536" alt="a (2).png"> <img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624599754095-f91111ec-de97-4d0d-bcba-84a81583c73a.png#clientId=u9526f050-7153-4&amp;from=drop&amp;height=393&amp;id=u491a0586&amp;name=b%20%281%29.png&amp;originHeight=524&amp;originWidth=715&amp;originalType=binary&amp;ratio=1&amp;size=61432&amp;status=done&amp;style=none&amp;taskId=uc7d2d44e-8c82-4488-848b-8535fad018b&amp;width=536" alt="b (1).png"> <img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624599845101-779b9b94-b0ec-449d-8655-49aa9727bcc1.png#clientId=u9526f050-7153-4&amp;from=drop&amp;height=396&amp;id=uddc65999&amp;name=c%20%281%29.png&amp;originHeight=528&amp;originWidth=721&amp;originalType=binary&amp;ratio=1&amp;size=63549&amp;status=done&amp;style=none&amp;taskId=u5d6f1b27-bbdd-4140-939f-43271798edb&amp;width=541" alt="c (1).png"> <img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624599925998-12a54c00-7c21-4d2a-9fe9-5d8b91a8f0a6.png#clientId=u9526f050-7153-4&amp;from=drop&amp;height=457&amp;id=u0ca4a5e2&amp;name=d%20%282%29.png&amp;originHeight=609&amp;originWidth=713&amp;originalType=binary&amp;ratio=1&amp;size=111785&amp;status=done&amp;style=none&amp;taskId=ue92b2d94-745b-4321-a2c3-96cb328de4b&amp;width=535" alt="d (2).png"> <img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624599973098-a63183fc-1f29-4ab5-9b8e-d05b571082b7.png#clientId=u9526f050-7153-4&amp;from=drop&amp;height=507&amp;id=u1b553314&amp;name=e%20%281%29.png&amp;originHeight=676&amp;originWidth=715&amp;originalType=binary&amp;ratio=1&amp;size=117297&amp;status=done&amp;style=none&amp;taskId=ub997b1cb-b581-4acb-b648-d5f4b7ee1a6&amp;width=536" alt="e (1).png"> <img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624600021613-58ef82f4-acf8-4990-a680-7b8109bdc5a8.png#clientId=u9526f050-7153-4&amp;from=drop&amp;height=388&amp;id=ua17ff84a&amp;name=f%20%281%29.png&amp;originHeight=517&amp;originWidth=721&amp;originalType=binary&amp;ratio=1&amp;size=57445&amp;status=done&amp;style=none&amp;taskId=u776df990-8d81-4a95-a4e9-cd5620f0da9&amp;width=541" alt="f (1).png"></p> <ul><li><em>因为在进行渐进式 rehash 的过程中， 字典会同时使用 ht[0] 和 ht[1] 两个哈希表， 所以在渐进式 rehash 进行期间， 字典的删除（delete）、查找（find）、更新（update）等操作会在两个哈希表上进行： 比如说， 要在字典里面查找一个键的话， 程序会先在 ht[0] 里面进行查找， 如果没找到的话， 就会继续到 ht[1] 里面进行查找， 诸如此类</em></li> <li><em>另外， 在渐进式 rehash 执行期间， 新添加到字典的键值对一律会被保存到 ht[1] 里面， 而 ht[0] 则不再进行任何添加操作： 这一措施保证了 ht[0] 包含的键值对数量会只减不增， 并随着 rehash 操作的执行而最终变成空表</em></li></ul> <h2 id="大key问题"><a href="#大key问题" class="header-anchor">#</a> 大key问题</h2> <h3 id="何为大key"><a href="#何为大key" class="header-anchor">#</a> 何为大key</h3> <ol><li><em>单个简单的key存储的value很大</em></li> <li><em>hash， set，zset，list 结构中存储过多的元素</em></li> <li><em>一个集群存储了上亿的key（存储的key越多，约占用内存）（未看）</em></li> <li><em>大Bitmap或布隆过滤器（未看）</em></li></ol> <h3 id="大key场景"><a href="#大key场景" class="header-anchor">#</a> 大key场景</h3> <p><em>Redis使用者应该都遇到过大key相关的场景，比如：</em></p> <ol><li><em>热门话题下评论、答案排序场景</em></li> <li><em>大V的粉丝列表</em></li> <li><em>使用不恰当，或者对业务预估不准确、不及时进行处理垃圾数据等</em></li></ol> <h3 id="引发的问题"><a href="#引发的问题" class="header-anchor">#</a> 引发的问题</h3> <ol><li><em>集群模式在slot分片均匀情况下，会出现数据和查询倾斜情况，部分有大key的Redis节点占用内存多，QPS高</em></li> <li><em>主动删除、被动过期删除、数据迁移等，由于处理这一个KEY时间长，导致服务端发生阻塞</em></li> <li><em>如果为list,hash等数据结构，大量的elements需要多次遍历，多次系统调用拷贝数据消耗时间</em></li></ol> <h3 id="发现大key"><a href="#发现大key" class="header-anchor">#</a> 发现大key</h3> <ol><li><em>redis-cli --bigkeys命令：可以找到某个实例5种数据类型（String、hash、list、set、zset）的最大key</em><img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624606549723-1cf7a920-7706-4686-9f26-4ebac7d41c1e.png#clientId=ud3b5e263-39e1-4&amp;from=paste&amp;height=455&amp;id=u1efa2e00&amp;name=image.png&amp;originHeight=455&amp;originWidth=601&amp;originalType=binary&amp;ratio=1&amp;size=51315&amp;status=done&amp;style=none&amp;taskId=uaabca97c-e5d0-44e0-9524-335fb2d4a95&amp;width=601" alt="image.png"></li> <li><em>redis-rdb-tools工具：redis实例上执行bgsave，然后对dump出来的rdb文件进行分析，找到其中的大KEY</em><img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1624607255521-ddd5bd38-76a6-46d3-8ff0-0f56b94b69a3.png#clientId=u1e42722f-6422-4&amp;from=paste&amp;height=258&amp;id=u8688ab15&amp;name=image.png&amp;originHeight=258&amp;originWidth=680&amp;originalType=binary&amp;ratio=1&amp;size=124902&amp;status=done&amp;style=none&amp;taskId=udcda14bb-e358-42a5-b11f-d4cd318e9c9&amp;width=680" alt="image.png"></li> <li><em>单个key查看: debug object key： 查看某个key序列化后的长度，每次看1个key的信息，比较没效率</em></li> <li><em>Redis 4.0引入了memory usage命令和lazyfree机制（Lazyfree的原理是在删除的时候只进行逻辑删除，把key释放操作放在bio(Background I/O)单独的子线程处理中，减少删除大key对redis主线程的阻塞，有效地避免因删除大key带来的性能问题。在此提一下bio线程，很多人把Redis通常理解为单线程内存数据库, 其实不然。Redis将最主要的网络收发和执行命令等操作都放在了主工作线程，然而除此之外还有几个bio后台线程）</em></li></ol> <h3 id="如何删除大key"><a href="#如何删除大key" class="header-anchor">#</a> 如何删除大key</h3> <ol><li><em>分批删除</em></li> <li><em>lazyfree机制：unlink命令：代替DEL命令；会把对应的大key放到BIO_LAZY_FREE后台线程任务队列，然后在后台异步删除</em></li></ol> <h3 id="大key的拆分方案"><a href="#大key的拆分方案" class="header-anchor">#</a> 大key的拆分方案</h3> <ol><li><em>单个简单的key存储的value很大</em> <ol><li>_该对象需要每次都整存整取 ：可以尝试将对象分拆成几个key-value，这样分拆的意义在于分拆单次操作的压力，将操作压力平摊到多个redis实例中，降低对单个redis的IO影响； _</li> <li>_该对象每次只需要存取部分数据：可以像第一种做法一样，分拆成几个key-value， 也可以将这个存储在一个hash中，每个field代表一个具体的属性，使用hget、hmget来获取部分的value，使用hset，hmset来更新部分属性 _</li></ol></li> <li><em>value中存储过多的元素：对于value中存储过多元素的key，同样可以将这部分元素拆分，以hash为例，正常的流程是：hget(hashKey, field)；hset(hashKey, field, value)。 现在可以固定一个桶数量，比如1w，每次存取的时候，先在本地计算field的hash值，对1w取模，确定field落在哪个key上,newHashKey = hashKey + ( hash(field) % 10000）; hset (newHashKey, field, value) ; hget(newHashKey, field),set，zset，list做法类似 （但有些不适合的场景，比如List，要保证 lpop 的数据的确是最早push到list中去的，可以按照时间来分拆）</em></li> <li><em>一个集群存储了上亿的key（存储的key越多，约占用内存）（未看）</em></li> <li><em>大Bitmap或布隆过滤器（Bloom ）拆分（未看）</em></li></ol> <h2 id="热key问题"><a href="#热key问题" class="header-anchor">#</a> 热key问题</h2> <h3 id="定义-2"><a href="#定义-2" class="header-anchor">#</a> 定义</h3> <p><em>瞬间有几十万的请求去访问redis上某个固定的key，从而压垮缓存服务的情况；比如XX明星结婚。那么关于XX明星的Key就会瞬间增大，就会出现热数据问题；那接下来这个key的请求，就会直接怼到你的数据库上，导致你的服务不可用</em></p> <h3 id="发现热key"><a href="#发现热key" class="header-anchor">#</a> 发现热key</h3> <ol><li><em><strong>凭借业务经验，进行预估哪些是热key</strong>：其实这个方法还是挺有可行性的。比如某商品在做秒杀，那这个商品的key就可以判断出是热key。缺点很明显，并非所有业务都能预估出哪些key是热key</em></li> <li><em><strong>在客户端进行收集</strong>：这个方式就是在操作redis之前，加入一行代码进行数据统计。那么这个数据统计的方式有很多种，也可以是给外部的通讯系统发送一个通知信息。缺点就是对客户端代码造成入侵</em></li> <li><em><strong>在Proxy层做收集</strong>：有些集群架构是下面这样的，Proxy可以是Twemproxy，是统一的入口。可以在Proxy层做收集上报，但是缺点很明显，并非所有的redis集群架构都有proxy；（Twemproxy是一种代理分片机制，由Twitter开源。Twemproxy作为代理，可接受来自多个程序的访问，按照路由规则，转发给后台的各个Redis或memcached服务器）</em></li> <li><em>r<strong>edis 命令 -hotkeys</strong>：redis 4.0.3提供了redis-cli的热点key发现功能，执行redis-cli时加上--hotkeys选项即可。但是该参数在执行的时候，如果key比较多，执行起来比较慢</em></li> <li><em><strong>redis命令 monitor</strong>**（不推荐）**：该命令可以实时抓取出redis服务器接收到的命令，然后写代码统计出热key是啥。当然，也有现成的分析工具可以给你使用，比如redis-faina。但是该命令在高并发的条件下，有内存增暴增的隐患，还会降低redis的性能</em></li> <li><em><strong>自己抓包评估</strong>：Redis客户端使用TCP协议与服务端进行交互，通信协议采用的是RESP。自己写程序监听端口，按照RESP协议规则解析数据，进行分析。缺点就是开发成本高，维护困难，有丢包可能性</em></li></ol> <h3 id="业内解决方案"><a href="#业内解决方案" class="header-anchor">#</a> 业内解决方案</h3> <h4 id="二级缓存"><a href="#二级缓存" class="header-anchor">#</a> 二级缓存</h4> <p><em>比如利用ehcache，或者一个HashMap都可以。在你发现热key以后，把热key加载到系统的JVM中。针对这种热key请求，会直接从jvm中取，而不会走到redis层。假设此时有十万个针对同一个key的请求过来,如果没有本地缓存，这十万个请求就直接怼到同一台redis上了。现在假设，你的应用层有50台机器，OK，你也有jvm缓存了。这十万个请求平均分散开来，每个机器有2000个请求，会从JVM中取到value值，然后返回数据。避免了十万个请求怼到同一台redis上的情形</em></p> <h4 id="备份热key"><a href="#备份热key" class="header-anchor">#</a> 备份热key</h4> <p><em>这个方案也很简单。不要让key走到同一台redis上不就行了。我们把这个key，在多个redis上都存一份不就好了。接下来，有热key请求进来的时候，我们就在有备份的redis上随机选取一台，进行访问取值，返回数据，伪代码：</em></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">const</span> <span class="token class-name">M</span> <span class="token operator">=</span> <span class="token class-name">N</span> <span class="token operator">*</span> <span class="token number">2</span>
<span class="token comment">//生成随机数</span>
random <span class="token operator">=</span> <span class="token class-name">GenRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">M</span><span class="token punctuation">)</span>
<span class="token comment">//构造备份新key</span>
bakHotKey <span class="token operator">=</span> hotKey <span class="token operator">+</span> “_” <span class="token operator">+</span> random
data <span class="token operator">=</span> redis<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span>bakHotKey<span class="token punctuation">)</span>
<span class="token keyword">if</span> data <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token punctuation">{</span>
    data <span class="token operator">=</span> <span class="token class-name">GetFromDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    redis<span class="token punctuation">.</span><span class="token function">SET</span><span class="token punctuation">(</span>bakHotKey<span class="token punctuation">,</span> expireTime <span class="token operator">+</span> <span class="token class-name">GenRandom</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="缓存预热"><a href="#缓存预热" class="header-anchor">#</a> 缓存预热</h2> <h3 id="定义-3"><a href="#定义-3" class="header-anchor">#</a> 定义</h3> <p><em>缓存预热就是系统上线后，将相关的缓存数据直接加载到缓存系统</em> <em>这样可以避免在用户请求的时候，先查询数据库，然后再将数据缓存的问题！用户直接查询事先被预热的缓存数据</em></p> <h3 id="方案"><a href="#方案" class="header-anchor">#</a> 方案</h3> <h4 id="缓存刷新页面"><a href="#缓存刷新页面" class="header-anchor">#</a> 缓存刷新页面</h4> <p><em>直接写个缓存刷新页面，上线时手工操作</em></p> <h4 id="项目启动自动加载"><a href="#项目启动自动加载" class="header-anchor">#</a> 项目启动自动加载</h4> <p><em>数据量不大，可以在项目启动的时候自动进行加载</em></p> <h2 id="布隆过滤器"><a href="#布隆过滤器" class="header-anchor">#</a> 布隆过滤器</h2> <h3 id="原理"><a href="#原理" class="header-anchor">#</a> 原理</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1611314734951-fb8e7039-624a-43f9-8c19-e6f9d24bb94d.png#height=218&amp;id=TbKRF&amp;name=62.png&amp;originHeight=218&amp;originWidth=499&amp;originalType=binary&amp;ratio=1&amp;size=21764&amp;status=done&amp;style=none&amp;width=499" alt="62.png"></p> <ul><li>新增key：布隆过滤器底层是用bitmap，有多个hash哈数；例如key = 你好，通过hash函数求余计算出下标，并将下标位置改为1；可以通过计算一个key所对应的下标是否是1，如果都是1（有误判可能，但是误判率很低0.0几），则表示key存在；否则，key不存在；</li> <li>删除key：一般布隆过滤器不删除key，因为下标的位置1可能是用来表达其他key的，如果还原成0，其他key可能也被删除了</li></ul> <blockquote><p>如果布隆过滤器中有，则表示不一定有
如果布隆过滤器中没有，则表示一定没有</p></blockquote> <h3 id="解决缓存穿透"><a href="#解决缓存穿透" class="header-anchor">#</a> 解决缓存穿透</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/375413/1611316020704-e6094a3d-dff6-4bc8-bf0d-948768eb13a2.png#height=481&amp;id=kVSVu&amp;name=63.png&amp;originHeight=481&amp;originWidth=679&amp;originalType=binary&amp;ratio=1&amp;size=69423&amp;status=done&amp;style=none&amp;width=679" alt="63.png">
问题：要把所有的key都放到布隆过滤中；有一定误判，其实这个误判不怎么影响
<em>（看这个图要先明确一点：要先把数据库里的数据都放到步隆过滤器中；步隆说有，不一定真的有，还要去缓存和数据库中找；红叉号表示就布隆中有，但是数据库中没有，也不要把布隆中的删掉）</em></p> <h2 id="缓存穿透-缓存击穿-缓存雪崩"><a href="#缓存穿透-缓存击穿-缓存雪崩" class="header-anchor">#</a> 缓存穿透/缓存击穿/缓存雪崩</h2> <p><img src="https://cdn.nlark.com/yuque/0/2023/png/375413/1677065831310-34020533-fc63-4834-8243-cc2299ccef8e.png?x-oss-process=image%2Fresize%2Cw_1484%2Climit_0" alt=""></p> <h2 id="过期数据处理策略于内存淘汰策略"><a href="#过期数据处理策略于内存淘汰策略" class="header-anchor">#</a> 过期数据处理策略于内存淘汰策略</h2> <h3 id="过期处理策略"><a href="#过期处理策略" class="header-anchor">#</a> 过期处理策略</h3> <p><img src="https://cdn.nlark.com/yuque/0/2023/png/375413/1677065848202-d4e393b0-500c-443b-894a-7c2fd24b4166.png?x-oss-process=image%2Fresize%2Cw_1192%2Climit_0" alt=""></p> <p>Redis中同时使用了惰性过期和定期过期两种过期策略</p> <h3 id="内存淘汰策略"><a href="#内存淘汰策略" class="header-anchor">#</a> 内存淘汰策略</h3> <p>指在增加新key但是redis内存不足的情况：</p> <table><thead><tr><th>noeviction（默认策略）</th> <th>新写入操作会报错</th></tr></thead> <tbody><tr><td>allkeys-lru</td> <td>在键空间中，移除最近最少使用的key</td></tr> <tr><td>allkeys-random</td> <td>在键空间中，随机移除某个key</td></tr> <tr><td>volatile-lru</td> <td>仅对设置了过期时间的键采取LRU淘汰</td></tr> <tr><td>volatile-random</td> <td>仅对设置了过期时间的键，随机移除某个key</td></tr> <tr><td>volatile-ttl</td> <td>仅对设置了过期时间的键，有更早过期时间的key优先移除</td></tr></tbody></table> <h2 id="redis事务"><a href="#redis事务" class="header-anchor">#</a> redis事务</h2> <h3 id="原理-2"><a href="#原理-2" class="header-anchor">#</a> 原理</h3> <p>MULTI、EXEC <em>[ɪɡˈzek]</em>、DISCARD、WATCH是事务的基础。用来显式开启并控制一个事务，它们允许在一个步骤中执行一组命令。并提供两个重要的保证：</p> <ul><li>事务中的所有命令都会被序列化并按顺序执行。在执行Redis事务的过程中，不会出现由另一个客户端发出的请求。这保证命令队列作为一个单独的原子操作被执行。</li> <li>队列中的命令要么全部被处理，要么全部被忽略。EXEC命令触发事务中所有命令的执行，因此，当客户端在事务上下文中失去与服务器的连接：
<ul><li>如果发生在调用MULTI命令之前，则不执行任何commands</li> <li>如果在此之前EXEC命令被调用，则所有的commands都被执行</li></ul></li></ul> <p>Redis事务不支持Rollback：在事务执行时有些命令可能会失败，但仍会继续执行剩余命令而不是Rollback（事务回滚）</p> <p>入队错误：
在命令入队的过程中，如果客户端向服务器发送了错误的命令，比如命令的参数数量不对，所有命令都不会执行</p> <p>执行错误：
如果命令在事务执行的过程中发生错误，比如说，对一个不同类型的 key 执行了错误的操作，那么 Redis 只会将错误包含在事务的结果中，这不会引起事务中断或整个失败，不会影响已执行事务命令的结果，也不会影响后面要执行的事务命令</p> <h3 id="相关命令"><a href="#相关命令" class="header-anchor">#</a> 相关命令</h3> <table><thead><tr><th>命令</th> <th>作用</th> <th>说明</th></tr></thead> <tbody><tr><td>WATCH</td> <td>将给出的Keys标记为监测态，作为事务执行的条件</td> <td>乐观锁</td></tr> <tr><td>UNWATCH</td> <td>清除事务中Keys的 监测态，如果调用了EXEC or DISCARD，则没有必要再手动调用UNWATCH</td> <td></td></tr> <tr><td>MULTI</td> <td>显式开启redis事务，后续commands将排队，等候使用EXEC进行原子执行</td> <td>multi 命令不能嵌套</td></tr> <tr><td>EXEC</td> <td>执行事务中的commands队列，恢复连接状态。如果WATCH在之前被调用，只有监测中的Keys没有被修改，命令才会被执行，否则停止执行（CAS机制）</td> <td></td></tr> <tr><td>DISCARD</td> <td>清除事务中的commands队列，恢复连接状态。如果WATCH在之前被调用，释放监测中的Keys</td> <td></td></tr></tbody></table> <h3 id="用法"><a href="#用法" class="header-anchor">#</a> 用法</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 开启事务</span>
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> multi
<span class="token constant">OK</span>
<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">6379</span><span class="token operator">&gt;</span> multi
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token constant">ERR</span> <span class="token constant">MULTI</span> calls can not be nested
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 命令入列</span>
<span class="token operator">&gt;</span> multi
<span class="token constant">OK</span>
<span class="token operator">&gt;</span> set k v
<span class="token constant">QUEUED</span>
<span class="token operator">&gt;</span> get k
<span class="token constant">QUEUED</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 执行事务</span>
<span class="token operator">&gt;</span> multi
<span class="token constant">OK</span>
<span class="token operator">&gt;</span> set k v2
<span class="token constant">QUEUED</span>
<span class="token operator">&gt;</span> exec
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token constant">OK</span>
<span class="token operator">&gt;</span> get k
<span class="token string">&quot;v2&quot;</span>

<span class="token comment">// 放弃事务，discard：清空队列</span>
<span class="token operator">&gt;</span> multi
<span class="token constant">OK</span>
<span class="token operator">&gt;</span> set k v3
<span class="token constant">QUEUED</span>
<span class="token operator">&gt;</span> discard
<span class="token constant">OK</span>
<span class="token operator">&gt;</span> get k
<span class="token string">&quot;v2&quot;</span>
</code></pre></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/middleware/redis-principle.html" class="prev">
          Redis 底层数据结构原理
        </a></span> <span class="next"><a href="/" class="router-link-active">
          Zookeeper
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#redis-分页" class="sidebar-link reco-side-redis-分页" data-v-b57cc07c>redis 分页</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#哨兵模式的脑裂问题" class="sidebar-link reco-side-哨兵模式的脑裂问题" data-v-b57cc07c>哨兵模式的脑裂问题</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#渐进式-rehash" class="sidebar-link reco-side-渐进式-rehash" data-v-b57cc07c>渐进式 rehash</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#定义" class="sidebar-link reco-side-定义" data-v-b57cc07c>定义</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#过程" class="sidebar-link reco-side-过程" data-v-b57cc07c>过程</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#具体过程" class="sidebar-link reco-side-具体过程" data-v-b57cc07c>具体过程</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#大key问题" class="sidebar-link reco-side-大key问题" data-v-b57cc07c>大key问题</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#何为大key" class="sidebar-link reco-side-何为大key" data-v-b57cc07c>何为大key</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#大key场景" class="sidebar-link reco-side-大key场景" data-v-b57cc07c>大key场景</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#引发的问题" class="sidebar-link reco-side-引发的问题" data-v-b57cc07c>引发的问题</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#发现大key" class="sidebar-link reco-side-发现大key" data-v-b57cc07c>发现大key</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#如何删除大key" class="sidebar-link reco-side-如何删除大key" data-v-b57cc07c>如何删除大key</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#大key的拆分方案" class="sidebar-link reco-side-大key的拆分方案" data-v-b57cc07c>大key的拆分方案</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#热key问题" class="sidebar-link reco-side-热key问题" data-v-b57cc07c>热key问题</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#定义-2" class="sidebar-link reco-side-定义-2" data-v-b57cc07c>定义</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#发现热key" class="sidebar-link reco-side-发现热key" data-v-b57cc07c>发现热key</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#业内解决方案" class="sidebar-link reco-side-业内解决方案" data-v-b57cc07c>业内解决方案</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#缓存预热" class="sidebar-link reco-side-缓存预热" data-v-b57cc07c>缓存预热</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#定义-3" class="sidebar-link reco-side-定义-3" data-v-b57cc07c>定义</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#方案" class="sidebar-link reco-side-方案" data-v-b57cc07c>方案</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#布隆过滤器" class="sidebar-link reco-side-布隆过滤器" data-v-b57cc07c>布隆过滤器</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#原理" class="sidebar-link reco-side-原理" data-v-b57cc07c>原理</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#解决缓存穿透" class="sidebar-link reco-side-解决缓存穿透" data-v-b57cc07c>解决缓存穿透</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#缓存穿透-缓存击穿-缓存雪崩" class="sidebar-link reco-side-缓存穿透-缓存击穿-缓存雪崩" data-v-b57cc07c>缓存穿透/缓存击穿/缓存雪崩</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#过期数据处理策略于内存淘汰策略" class="sidebar-link reco-side-过期数据处理策略于内存淘汰策略" data-v-b57cc07c>过期数据处理策略于内存淘汰策略</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#过期处理策略" class="sidebar-link reco-side-过期处理策略" data-v-b57cc07c>过期处理策略</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#内存淘汰策略" class="sidebar-link reco-side-内存淘汰策略" data-v-b57cc07c>内存淘汰策略</a></li><li class="level-2" data-v-b57cc07c><a href="/middleware/redis-others.html#redis事务" class="sidebar-link reco-side-redis事务" data-v-b57cc07c>redis事务</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#原理-2" class="sidebar-link reco-side-原理-2" data-v-b57cc07c>原理</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#相关命令" class="sidebar-link reco-side-相关命令" data-v-b57cc07c>相关命令</a></li><li class="level-3" data-v-b57cc07c><a href="/middleware/redis-others.html#用法" class="sidebar-link reco-side-用法" data-v-b57cc07c>用法</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/assets/js/app.ebc22a7e.js" defer></script><script src="/assets/js/3.055d3e19.js" defer></script><script src="/assets/js/1.e976497e.js" defer></script><script src="/assets/js/82.b384ccf9.js" defer></script>
  </body>
</html>
